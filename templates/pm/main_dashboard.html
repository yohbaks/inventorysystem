{% extends 'base.html' %}
{% load static %}

{% block title %}PM Checklists Dashboard{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pm-modern.css' %}">
{% endblock %}

{% block content %}
<div class="modern-container">
    <div class="container-fluid">
        <!-- Hero Header -->
        <div class="premium-page-header theme-pm">
            <div class="hero-content text-center">
                <div class="hero-badge mx-auto">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Preventive Maintenance</span>
                </div>
                <h1 class="hero-title">PM Checklists Dashboard</h1>
                <p style="opacity: 0.95; margin: 0;">Manage and monitor all your datacenter PM activities</p>
            </div>
        </div>

        <!-- PM Forms Grid - 2 Column Layout -->
        <div class="row">
            {% for form in pm_forms %}
            <div class="col-lg-6 mb-3">
                <div class="modern-card h-100">
                    <div class="card-header-modern">
                        <div>
                            <span class="badge bg-primary rounded-pill mb-2">ANNEX "{{ form.annex_code }}"</span>
                            <h3 class="card-title-modern">
                                <i class="fas {{ form.icon }}"></i> {{ form.title }}
                            </h3>
                        </div>
                    </div>
                    <div class="card-body-modern">
                        <p class="text-muted mb-3">{{ form.description }}</p>

                        <div class="d-flex align-items-center gap-2 mb-2">
                            <i class="fas fa-clock text-primary"></i>
                            <span class="badge bg-light text-dark">{{ form.frequency }}</span>
                        </div>

                        <div class="d-flex align-items-start gap-2 mb-3">
                            <i class="fas fa-calendar-check text-primary mt-1"></i>
                            <small class="text-muted">{{ form.schedule_note }}</small>
                        </div>

                        <div class="text-center">
                            {% if form.dashboard_url != '#' %}
                            <a href="{% url form.dashboard_url %}" class="modern-btn btn-primary" style="min-width: 200px;">
                                <i class="fas fa-arrow-right"></i> Go to Dashboard
                            </a>
                            {% else %}
                            <button class="modern-btn btn-secondary" style="min-width: 200px;" disabled>
                                <i class="fas fa-lock"></i> Coming Soon
                            </button>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Quick Overview Card -->
        <div class="modern-card">
            <div class="card-header-modern">
                <h3 class="card-title-modern">
                    <i class="fas fa-chart-line"></i> Quick Overview
                </h3>
            </div>
            <div class="card-body-modern">
                <div class="row text-center">
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div class="premium-info-icon-badge mx-auto mb-2">
                            <i class="fas fa-calendar-day"></i>
                        </div>
                        <h4>Daily</h4>
                        <p class="text-muted">Mon-Fri Datacenter</p>
                    </div>
                    <div class="col-md-4 mb-3 mb-md-0">
                        <div class="premium-info-icon-badge mx-auto mb-2">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <h4>Monthly</h4>
                        <p class="text-muted">1st Week Review</p>
                    </div>
                    <div class="col-md-4">
                        <div class="premium-info-icon-badge success mx-auto mb-2">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h4>Proactive</h4>
                        <p class="text-muted">Maintenance Care</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Back Button -->
        <div class="text-center mt-4">
            <a href="/" class="modern-btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Back to Home
            </a>
        </div>
    </div>
</div>
{% endblock %}