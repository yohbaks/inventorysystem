<!-- templates/add_equipment.html -->
{% extends 'base.html' %}

{% block content %}

<!-- Forms begins here -->
<div class="container">
  <div class="page-inner">
    <div class="page-header">
      <h3 class="fw-bold mb-3">Forms</h3>
      <ul class="breadcrumbs mb-3">
        <li class="nav-home">
          <a href="#">
            <i class="icon-home"></i>
          </a>
        </li>
        <li class="separator">
          <i class="icon-arrow-right"></i>
        </li>
        <li class="nav-item">
          <a href="#">Forms</a>
        </li>
        <li class="separator">
          <i class="icon-arrow-right"></i>
        </li>
        <li class="nav-item">
          <a href="#">Basic Form</a>
        </li>
      </ul>
    </div>

    <!-- Error and Success Messages -->
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
      <strong>{{ message.tags|title }}:</strong> {{ message }}
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    {% endfor %}

    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <div class="card-title">ADD ICT EQUIPMENT</div>
        </div>

        <form action="{% url 'add_equipment_func_input' %}" method="post">
          {% csrf_token %}
          <div class="card-body">

            <!-- Equipment Selection Dropdown -->
            <div class="form-group">
              <label for="equipmentSelect">Equipment Type</label>
              <select class="form-select form-control" id="equipmentSelect" name="name_input">
                <option value="" {% if equipment_type == '' %}selected{% endif %} disabled>Select Equipment Type</option>
                <option value="Desktop" {% if equipment_type == 'Desktop' %}selected{% endif %}>Desktop</option>
                <option value="Laptop" {% if equipment_type == 'Laptop' %}selected{% endif %}>Laptop</option>
                <option value="UPS" {% if equipment_type == 'UPS' %}selected{% endif %}>UPS</option>
                <option value="Mouse" {% if equipment_type == 'Mouse' %}selected{% endif %}>Mouse</option>
              </select>
            </div>

            <!-- Dynamic Forms Section for Desktop -->
            <div id="desktopForm" class="equipment-form card-body" style="display: {% if equipment_type == 'Desktop' %}block{% else %}none{% endif %};">
              <h3><i class="fas fa-desktop"> &nbsp;</i>Desktop Details</h3>
              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopSerial">Serial Number</label>
                    <input type="text" class="form-control" id="desktopSerial" name="desktop_serial_input" value="{{ serialany }}" placeholder="Enter Desktop Serial Number">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopBrand">Brand Name</label>
                    <input type="text" class="form-control" id="desktopBrand" name="desktop_brand_input" value="{{ brandnameany }}" placeholder="Enter Desktop Brand">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopModel">Model</label>
                    <input type="text" class="form-control" id="desktopModel" name="desktop_model_input" value="{{ modelany }}" placeholder="Enter Desktop Model">
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopProcessor">Processor</label>
                    <input type="text" class="form-control" id="desktopProcessor" name="desktop_processor_input" value="{{ processorany }}" placeholder="Enter Desktop Processor">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopMemory">Memory</label>
                    <input type="text" class="form-control" id="desktopMemory" name="desktop_memory_input" value="{{ memoryany }}" placeholder="Enter Memory Size">
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="form-group">
                    <label for="desktopDrive">Computer Drive</label>
                    <input type="text" class="form-control" id="desktopDrive" name="desktop_drive_input" value="{{ driveany }}" placeholder="Enter Desktop Drive Size">
                  </div>
                </div>
              </div>




            </div>

            <!-- Similar blocks for Laptop, UPS, etc. -->
            <div id="laptopForm" class="equipment-form" style="display: {% if equipment_type == 'Laptop' %}block{% else %}none{% endif %};">
              <h5>Laptop Details</h5>
              <div class="form-group">
                <label for="laptopSerial">Serial Number</label>
                <input type="text" class="form-control" id="laptopSerial" name="laptop_serial" value="{{ serialany }}" placeholder="Enter Laptop Serial Number">
              </div>
              <div class="form-group">
                <label for="laptopBrand">Brand Name</label>
                <input type="text" class="form-control" id="laptopBrand" name="laptop_brand" value="{{ brandnameany }}" placeholder="Enter Laptop Brand">
              </div>
              <div class="form-group">
                <label for="laptopBattery">Battery Life</label>
                <input type="text" class="form-control" id="laptopBattery" name="laptop_battery" placeholder="Enter Laptop Battery Life">
              </div>
            </div>

            <div id="upsForm" class="equipment-form" style="display: {% if equipment_type == 'UPS' %}block{% else %}none{% endif %};">
              <h5>UPS Details</h5>
              <div class="form-group">
                <label for="upsSerial">Serial Number</label>
                <input type="text" class="form-control" id="upsSerial" name="ups_serial" value="{{ serialany }}" placeholder="Enter UPS Serial Number">
              </div>
              <div class="form-group">
                <label for="upsCapacity">Capacity</label>
                <input type="text" class="form-control" id="upsCapacity" name="ups_capacity" placeholder="Enter UPS Capacity">
              </div>
            </div>

          </div>
          <div class="card-action">
            <button class="btn btn-success">Submit</button>
            <button class="btn btn-danger" type="reset">Cancel</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- JavaScript for showing/hiding forms -->
<script>
  document.getElementById('equipmentSelect').addEventListener('change', function() {
    // Hide all forms initially
    document.querySelectorAll('.equipment-form').forEach(function(form) {
      form.style.display = 'none';
    });

    // Show the selected form
    const selectedValue = this.value;
    if (selectedValue === 'Desktop') {
      document.getElementById('desktopForm').style.display = 'block';
    } else if (selectedValue === 'Laptop') {
      document.getElementById('laptopForm').style.display = 'block';
    } else if (selectedValue === 'UPS') {
      document.getElementById('upsForm').style.display = 'block';
    }
    // Add more conditions for other equipment types
  });
</script>

{% endblock %}
